const ua=window.navigator.userAgent.toLowerCase();-1!==ua.indexOf("chrome")?(document.body.classList.add("chromium"),-1!==ua.indexOf("android")&&document.body.classList.add("android")):-1!==ua.indexOf("safari")?document.body.classList.add("safari"):-1!==ua.indexOf("firefox")&&document.body.classList.add("firefox");const url=new URL(location),supportedLangs=["ja","en"],pageLang=(()=>{const e=url.pathname;if(e.match(/\/$/)||e.match(/\/[^-]+?\.html$/))return"ja";for(const t of supportedLangs)if(e.match(new RegExp(`-${t}.html$`)))return t;return"ja"})(),userLang=navigator.language.toLowerCase().match(/^([^-]+?)(-|$)/)[1],langDialog={ja:{text:"日本語のページに移動しますか?",move:"移動",cancel:"移動しない"},en:{text:"Will you move to English page?",move:"Move",cancel:"Cancel"}};if(userLang!==pageLang){const e=""===document.referrer?null:new URL(document.referrer);if((supportedLangs.includes(userLang)||!supportedLangs.includes(userLang)&&"ja"===pageLang)&&(!e||e.host!==url.host)){const e=document.getElementById("moveToYourLang"),t=supportedLangs.includes(userLang)?userLang:"en";Object.entries(langDialog[t]).forEach(([t,n])=>{const a=e.querySelector(`#${t}`);a.textContent=n,"cancel"===t&&a.addEventListener("click",()=>{e.close()})}),e.showModal()}}const hamburger=document.getElementById("hamburger"),nav=document.getElementsByTagName("nav")[0],siteLogo=document.getElementById("siteLogo"),toggleMenu=()=>{hamburger.classList.toggle("checked"),nav.classList.toggle("hide");const e=nav.classList.contains("hide");nav.querySelectorAll("[tabindex]").forEach(t=>{t.setAttribute("tabindex",e?-1:0)}),document.querySelectorAll("nav ~ * :is([tabindex], a, input, button)").forEach(t=>{t.setAttribute("tabindex",e?0:-1)}),siteLogo.classList.toggle("hide")};hamburger.addEventListener("click",toggleMenu),hamburger.addEventListener("keydown",e=>{"Enter"===e.key&&toggleMenu()});